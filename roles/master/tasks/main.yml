---
- name: Configure Network
  block:
      - include_tasks: network.yml
  when: (master_network.ip_address is defined and master_network.ip_address is not none) or 
        (master_network.ip_v6_address is defined and master_network.ip_v6_address is not none)
  tags: network

- name: Configure Repositories
  block:
      - include_vars: "{{ role_path }}/vars/repositories.yml"
      - include_tasks: repositories.yml
  tags: repositories

- name: Install Packages
  block:
      - include_tasks: install.yml
  tags: install

- name: Configure Services
  block:
      - include_tasks: configure.yml
  tags: configure

- name: Start Services
  block:
      - include_tasks: start.yml
  tags: start
